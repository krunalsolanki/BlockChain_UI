using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

using System.Numerics;
using System.Threading.Tasks;
using Nethereum.Contracts;
using Nethereum.Hex.HexTypes;
using Nethereum.Web3;

using Nethereum.ABI.FunctionEncoding.Attributes;
using Nethereum.Contracts.CQS;
using Nethereum.Util;
using Nethereum.Web3.Accounts;
using Nethereum.Hex.HexConvertors.Extensions;
using Nethereum.Contracts.Extensions;
using Nethereum.Web3.Accounts.Managed;
using System.Web.UI.DataVisualization.Charting;
using System.Drawing;

namespace WebApplication1
{

    public class StandardTokenDeployment : ContractDeploymentMessage
    {

        public static string bytecode1 = "0x60806040523480156200001157600080fd5b50604051620011f9380380620011f98339810180604052620000379190810190620004c7565b80600190805190602001906200004f9291906200020c565b5060018054905060008162000065919062000273565b5060008090505b600180549050811015620002045762000084620002a2565b60408051908101604052808381526020016001151581525090506060600183815481101515620000b057fe5b906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620001525780601f10620001265761010080835404028352916020019162000152565b820191906000526020600020905b8154815290600101906020018083116200013457829003601f168201915b50505050509050816003826040518082805190602001908083835b6020831015156200019457805182526020820191506020810190506020830392506200016d565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000820151816000015560208201518160010160006101000a81548160ff021916908315150217905550905050505080806001019150506200006c565b5050620005c6565b82805482825590600052602060002090810192821562000260579160200282015b828111156200025f5782518290805190602001906200024e929190620002be565b50916020019190600101906200022d565b5b5090506200026f919062000345565b5090565b8154818355818111156200029d578183600052602060002091820191016200029c919062000376565b5b505050565b6040805190810160405280600081526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200030157805160ff191683800117855562000332565b8280016001018555821562000332579182015b828111156200033157825182559160200191906001019062000314565b5b50905062000341919062000376565b5090565b6200037391905b808211156200036f57600081816200036591906200039e565b506001016200034c565b5090565b90565b6200039b91905b80821115620003975760008160009055506001016200037d565b5090565b90565b50805460018160011615610100020316600290046000825580601f10620003c65750620003e7565b601f016020900490600052602060002090810190620003e6919062000376565b5b50565b600082601f8301121515620003fe57600080fd5b8151620004156200040f826200053a565b6200050c565b9150818183526020840193506020810190508360005b838110156200045f578151860162000444888262000469565b8452602084019350602083019250506001810190506200042b565b5050505092915050565b600082601f83011215156200047d57600080fd5b8151620004946200048e8262000563565b6200050c565b91508082526020830160208301858383011115620004b157600080fd5b620004be83828462000590565b50505092915050565b600060208284031215620004da57600080fd5b600082015167ffffffffffffffff811115620004f557600080fd5b6200050384828501620003ea565b91505092915050565b6000604051905081810181811067ffffffffffffffff821117156200053057600080fd5b8060405250919050565b600067ffffffffffffffff8211156200055257600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156200057b57600080fd5b601f19601f8301169050602081019050919050565b60005b83811015620005b057808201518184015260208101905062000593565b83811115620005c0576000848401525b50505050565b610c2380620005d66000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f1461007d5780630dc96015146100a6578063409e2205146100d15780635df813301461010e578063cc2ee1961461014b578063fc36e15b14610176575b600080fd5b34801561008957600080fd5b506100a4600480360361009f9190810190610817565b61019f565b005b3480156100b257600080fd5b506100bb610319565b6040516100c89190610a15565b60405180910390f35b3480156100dd57600080fd5b506100f860048036036100f39190810190610817565b610371565b6040516101059190610a37565b60405180910390f35b34801561011a57600080fd5b5061013560048036036101309190810190610817565b61042c565b6040516101429190610ab9565b60405180910390f35b34801561015757600080fd5b5061016061044f565b60405161016d91906109f3565b60405180910390f35b34801561018257600080fd5b5061019d600480360361019891908101906107d6565b610538565b005b806000111580156101b4575060018054905081105b15156101f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ec90610a79565b60405180910390fd5b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151515610284576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161027b90610a59565b60405180910390fd5b600160008281548110151561029557fe5b9060005260206000200154016000828154811015156102b057fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6060600080548060200260200160405190810160405280929190818152602001828054801561036757602002820191906000526020600020905b815481526020019060010190808311610353575b5050505050905090565b60018181548110151561038057fe5b906000526020600020016000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104245780601f106103f957610100808354040283529160200191610424565b820191906000526020600020905b81548152906001019060200180831161040757829003601f168201915b505050505081565b60008181548110151561043b57fe5b906000526020600020016000915090505481565b60606001805480602002602001604051908101604052809291908181526020016000905b8282101561052f578382906000526020600020018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561051b5780601f106104f05761010080835404028352916020019161051b565b820191906000526020600020905b8154815290600101906020018083116104fe57829003601f168201915b505050505081526020019060010190610473565b50505050905090565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515156105c7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105be90610a59565b60405180910390fd5b6105cf610750565b6003826040518082805190602001908083835b60208310151561060757805182526020820191506020810190506020830392506105e2565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020604080519081016040529081600082015481526020016001820160009054906101000a900460ff1615151515815250509050806020015115156106b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106a990610a99565b60405180910390fd5b6001600082600001518154811015156106c757fe5b906000526020600020015401600082600001518154811015156106e657fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6040805190810160405280600081526020016000151581525090565b600082601f830112151561077f57600080fd5b813561079261078d82610b01565b610ad4565b915080825260208301602083018583830111156107ae57600080fd5b6107b9838284610b96565b50505092915050565b60006107ce8235610b8c565b905092915050565b6000602082840312156107e857600080fd5b600082013567ffffffffffffffff81111561080257600080fd5b61080e8482850161076c565b91505092915050565b60006020828403121561082957600080fd5b6000610837848285016107c2565b91505092915050565b600061084b82610b47565b8084526020840193508360208202850161086485610b2d565b60005b8481101561089d57838303885261087f838351610909565b925061088a82610b68565b9150602088019750600181019050610867565b508196508694505050505092915050565b60006108b982610b52565b8084526020840193506108cb83610b3a565b60005b828110156108fd576108e18683516109e4565b6108ea82610b75565b91506020860195506001810190506108ce565b50849250505092915050565b600061091482610b5d565b808452610928816020860160208601610ba5565b61093181610bd8565b602085010191505092915050565b6000601982527f4163636f756e742068617320616c726561647920566f746564000000000000006020830152604082019050919050565b6000601a82527f506c656173652073656c6563742076616c6964206f7074696f6e0000000000006020830152604082019050919050565b6000601682527f4f7074696f6e20646f6573206e6f7420657869737473000000000000000000006020830152604082019050919050565b6109ed81610b82565b82525050565b60006020820190508181036000830152610a0d8184610840565b905092915050565b60006020820190508181036000830152610a2f81846108ae565b905092915050565b60006020820190508181036000830152610a518184610909565b905092915050565b60006020820190508181036000830152610a728161093f565b9050919050565b60006020820190508181036000830152610a9281610976565b9050919050565b60006020820190508181036000830152610ab2816109ad565b9050919050565b6000602082019050610ace60008301846109e4565b92915050565b6000604051905081810181811067ffffffffffffffff82111715610af757600080fd5b8060405250919050565b600067ffffffffffffffff821115610b1857600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000819050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015610bc3578082015181840152602081019050610ba8565b83811115610bd2576000848401525b50505050565b6000601f19601f830116905091905056fea265627a7a72305820f660cee978fc96280e74505b268e21c7c7643f9d17de17f3e8e6e19e5a126f2a6c6578706572696d656e74616cf50037";

        public StandardTokenDeployment() : base(bytecode1) { }

        [Parameter("uint256", "totalSupply")]
        public BigInteger TotalSupply { get; set; }

    }
    public partial class _Default : Page
    {
        const string strURL = "http://104.211.206.173:7545/";//"http://104.211.209.124:7545/"; //The URL endpoint for the blockchain network.

        #region static values
        //The contract address.
        const string address = "0x71d54D727F333e73Dc15F0abaF4C738C7f2b7C89";// "0x34E7Cff39Edd8Fd069ee65b8470719BE1Dd799B9";

        //The ABI for the contract.
        //  string ABI = @"[{'constant':true,'inputs':[],'name':'candidate1','outputs':[{'name':'','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':false,'inputs':[{'name':'candidate','type':'uint256'}],'name':'castVote','outputs':[],'payable':false,'stateMutability':'nonpayable','type':'function'},{'constant':true,'inputs':[],'name':'candidate2','outputs':[{'name':'','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':true,'inputs':[{'name':'','type':'address'}],'name':'voted','outputs':[{'name':'','type':'bool'}],'payable':false,'stateMutability':'view','type':'function'}]";
        string ABI = @"
[
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'options',
      'outputs': [
        {
          'name': '',
          'type': 'string'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'votes',
      'outputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'inputs': [
        {
          'name': '_options',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'constructor'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'option',
          'type': 'uint256'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'optionName',
          'type': 'string'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getOptions',
      'outputs': [
        {
          'name': 'strOptions',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getVotes',
      'outputs': [
        {
          'name': 'intVal',
          'type': 'uint256[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    }
  ]
";

        string ABI_newSyst  = @"[
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'options',
      'outputs': [
        {
          'name': '',
          'type': 'string'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function',
      'signature': '0x409e2205'
    },
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'votes',
      'outputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function',
      'signature': '0x5df81330'
    },
    {
      'inputs': [
        {
          'name': '_options',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'constructor',
      'signature': 'constructor'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'option',
          'type': 'uint256'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function',
      'signature': '0x0121b93f'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'optionName',
          'type': 'string'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function',
      'signature': '0xfc36e15b'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getOptions',
      'outputs': [
        {
          'name': '',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function',
      'signature': '0xcc2ee196'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getVotes',
      'outputs': [
        {
          'name': '',
          'type': 'uint256[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function',
      'signature': '0x0dc96015'
    }
  ]";

        string ABI_old = @"

[
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'options',
      'outputs': [
        {
          'name': '',
          'type': 'string'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'name': 'votes',
      'outputs': [
        {
          'name': '',
          'type': 'uint256'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'inputs': [
        {
          'name': '_options',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'constructor'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'option',
          'type': 'uint256'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function'
    },
    {
      'constant': false,
      'inputs': [
        {
          'name': 'optionName',
          'type': 'string'
        }
      ],
      'name': 'vote',
      'outputs': [],
      'payable': false,
      'stateMutability': 'nonpayable',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getOptions',
      'outputs': [
        {
          'name': '',
          'type': 'string[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    },
    {
      'constant': true,
      'inputs': [],
      'name': 'getVotes',
      'outputs': [
        {
          'name': '',
          'type': 'uint256[]'
        }
      ],
      'payable': false,
      'stateMutability': 'view',
      'type': 'function'
    }
  ]
";

        String bytecode =   "0x60806040523480156200001157600080fd5b50604051620011f9380380620011f98339810180604052620000379190810190620004c7565b80600190805190602001906200004f9291906200020c565b5060018054905060008162000065919062000273565b5060008090505b600180549050811015620002045762000084620002a2565b60408051908101604052808381526020016001151581525090506060600183815481101515620000b057fe5b906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620001525780601f10620001265761010080835404028352916020019162000152565b820191906000526020600020905b8154815290600101906020018083116200013457829003601f168201915b50505050509050816003826040518082805190602001908083835b6020831015156200019457805182526020820191506020810190506020830392506200016d565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000820151816000015560208201518160010160006101000a81548160ff021916908315150217905550905050505080806001019150506200006c565b5050620005c6565b82805482825590600052602060002090810192821562000260579160200282015b828111156200025f5782518290805190602001906200024e929190620002be565b50916020019190600101906200022d565b5b5090506200026f919062000345565b5090565b8154818355818111156200029d578183600052602060002091820191016200029c919062000376565b5b505050565b6040805190810160405280600081526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200030157805160ff191683800117855562000332565b8280016001018555821562000332579182015b828111156200033157825182559160200191906001019062000314565b5b50905062000341919062000376565b5090565b6200037391905b808211156200036f57600081816200036591906200039e565b506001016200034c565b5090565b90565b6200039b91905b80821115620003975760008160009055506001016200037d565b5090565b90565b50805460018160011615610100020316600290046000825580601f10620003c65750620003e7565b601f016020900490600052602060002090810190620003e6919062000376565b5b50565b600082601f8301121515620003fe57600080fd5b8151620004156200040f826200053a565b6200050c565b9150818183526020840193506020810190508360005b838110156200045f578151860162000444888262000469565b8452602084019350602083019250506001810190506200042b565b5050505092915050565b600082601f83011215156200047d57600080fd5b8151620004946200048e8262000563565b6200050c565b91508082526020830160208301858383011115620004b157600080fd5b620004be83828462000590565b50505092915050565b600060208284031215620004da57600080fd5b600082015167ffffffffffffffff811115620004f557600080fd5b6200050384828501620003ea565b91505092915050565b6000604051905081810181811067ffffffffffffffff821117156200053057600080fd5b8060405250919050565b600067ffffffffffffffff8211156200055257600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156200057b57600080fd5b601f19601f8301169050602081019050919050565b60005b83811015620005b057808201518184015260208101905062000593565b83811115620005c0576000848401525b50505050565b610c2380620005d66000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f1461007d5780630dc96015146100a6578063409e2205146100d15780635df813301461010e578063cc2ee1961461014b578063fc36e15b14610176575b600080fd5b34801561008957600080fd5b506100a4600480360361009f9190810190610817565b61019f565b005b3480156100b257600080fd5b506100bb610319565b6040516100c89190610a15565b60405180910390f35b3480156100dd57600080fd5b506100f860048036036100f39190810190610817565b610371565b6040516101059190610a37565b60405180910390f35b34801561011a57600080fd5b5061013560048036036101309190810190610817565b61042c565b6040516101429190610ab9565b60405180910390f35b34801561015757600080fd5b5061016061044f565b60405161016d91906109f3565b60405180910390f35b34801561018257600080fd5b5061019d600480360361019891908101906107d6565b610538565b005b806000111580156101b4575060018054905081105b15156101f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ec90610a79565b60405180910390fd5b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151515610284576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161027b90610a59565b60405180910390fd5b600160008281548110151561029557fe5b9060005260206000200154016000828154811015156102b057fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6060600080548060200260200160405190810160405280929190818152602001828054801561036757602002820191906000526020600020905b815481526020019060010190808311610353575b5050505050905090565b60018181548110151561038057fe5b906000526020600020016000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104245780601f106103f957610100808354040283529160200191610424565b820191906000526020600020905b81548152906001019060200180831161040757829003601f168201915b505050505081565b60008181548110151561043b57fe5b906000526020600020016000915090505481565b60606001805480602002602001604051908101604052809291908181526020016000905b8282101561052f578382906000526020600020018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561051b5780601f106104f05761010080835404028352916020019161051b565b820191906000526020600020905b8154815290600101906020018083116104fe57829003601f168201915b505050505081526020019060010190610473565b50505050905090565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515156105c7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105be90610a59565b60405180910390fd5b6105cf610750565b6003826040518082805190602001908083835b60208310151561060757805182526020820191506020810190506020830392506105e2565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020604080519081016040529081600082015481526020016001820160009054906101000a900460ff1615151515815250509050806020015115156106b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106a990610a99565b60405180910390fd5b6001600082600001518154811015156106c757fe5b906000526020600020015401600082600001518154811015156106e657fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6040805190810160405280600081526020016000151581525090565b600082601f830112151561077f57600080fd5b813561079261078d82610b01565b610ad4565b915080825260208301602083018583830111156107ae57600080fd5b6107b9838284610b96565b50505092915050565b60006107ce8235610b8c565b905092915050565b6000602082840312156107e857600080fd5b600082013567ffffffffffffffff81111561080257600080fd5b61080e8482850161076c565b91505092915050565b60006020828403121561082957600080fd5b6000610837848285016107c2565b91505092915050565b600061084b82610b47565b8084526020840193508360208202850161086485610b2d565b60005b8481101561089d57838303885261087f838351610909565b925061088a82610b68565b9150602088019750600181019050610867565b508196508694505050505092915050565b60006108b982610b52565b8084526020840193506108cb83610b3a565b60005b828110156108fd576108e18683516109e4565b6108ea82610b75565b91506020860195506001810190506108ce565b50849250505092915050565b600061091482610b5d565b808452610928816020860160208601610ba5565b61093181610bd8565b602085010191505092915050565b6000601982527f4163636f756e742068617320616c726561647920566f746564000000000000006020830152604082019050919050565b6000601a82527f506c656173652073656c6563742076616c6964206f7074696f6e0000000000006020830152604082019050919050565b6000601682527f4f7074696f6e20646f6573206e6f7420657869737473000000000000000000006020830152604082019050919050565b6109ed81610b82565b82525050565b60006020820190508181036000830152610a0d8184610840565b905092915050565b60006020820190508181036000830152610a2f81846108ae565b905092915050565b60006020820190508181036000830152610a518184610909565b905092915050565b60006020820190508181036000830152610a728161093f565b9050919050565b60006020820190508181036000830152610a9281610976565b9050919050565b60006020820190508181036000830152610ab2816109ad565b9050919050565b6000602082019050610ace60008301846109e4565b92915050565b6000604051905081810181811067ffffffffffffffff82111715610af757600080fd5b8060405250919050565b600067ffffffffffffffff821115610b1857600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000819050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015610bc3578082015181840152602081019050610ba8565b83811115610bd2576000848401525b50505050565b6000601f19601f830116905091905056fea265627a7a72305820a1aa07e3d323b71d6e2435891b1cbfa51cf6b8f3d39fa82493fae6ec27908b3b6c6578706572696d656e74616cf50037";
        //String  bytecode= "0x60806040523480156200001157600080fd5b50604051620011f9380380620011f98339810180604052620000379190810190620004c7565b80600190805190602001906200004f9291906200020c565b5060018054905060008162000065919062000273565b5060008090505b600180549050811015620002045762000084620002a2565b60408051908101604052808381526020016001151581525090506060600183815481101515620000b057fe5b906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620001525780601f10620001265761010080835404028352916020019162000152565b820191906000526020600020905b8154815290600101906020018083116200013457829003601f168201915b50505050509050816003826040518082805190602001908083835b6020831015156200019457805182526020820191506020810190506020830392506200016d565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000820151816000015560208201518160010160006101000a81548160ff021916908315150217905550905050505080806001019150506200006c565b5050620005c6565b82805482825590600052602060002090810192821562000260579160200282015b828111156200025f5782518290805190602001906200024e929190620002be565b50916020019190600101906200022d565b5b5090506200026f919062000345565b5090565b8154818355818111156200029d578183600052602060002091820191016200029c919062000376565b5b505050565b6040805190810160405280600081526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200030157805160ff191683800117855562000332565b8280016001018555821562000332579182015b828111156200033157825182559160200191906001019062000314565b5b50905062000341919062000376565b5090565b6200037391905b808211156200036f57600081816200036591906200039e565b506001016200034c565b5090565b90565b6200039b91905b80821115620003975760008160009055506001016200037d565b5090565b90565b50805460018160011615610100020316600290046000825580601f10620003c65750620003e7565b601f016020900490600052602060002090810190620003e6919062000376565b5b50565b600082601f8301121515620003fe57600080fd5b8151620004156200040f826200053a565b6200050c565b9150818183526020840193506020810190508360005b838110156200045f578151860162000444888262000469565b8452602084019350602083019250506001810190506200042b565b5050505092915050565b600082601f83011215156200047d57600080fd5b8151620004946200048e8262000563565b6200050c565b91508082526020830160208301858383011115620004b157600080fd5b620004be83828462000590565b50505092915050565b600060208284031215620004da57600080fd5b600082015167ffffffffffffffff811115620004f557600080fd5b6200050384828501620003ea565b91505092915050565b6000604051905081810181811067ffffffffffffffff821117156200053057600080fd5b8060405250919050565b600067ffffffffffffffff8211156200055257600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156200057b57600080fd5b601f19601f8301169050602081019050919050565b60005b83811015620005b057808201518184015260208101905062000593565b83811115620005c0576000848401525b50505050565b610c2380620005d66000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f1461007d5780630dc96015146100a6578063409e2205146100d15780635df813301461010e578063cc2ee1961461014b578063fc36e15b14610176575b600080fd5b34801561008957600080fd5b506100a4600480360361009f9190810190610817565b61019f565b005b3480156100b257600080fd5b506100bb610319565b6040516100c89190610a15565b60405180910390f35b3480156100dd57600080fd5b506100f860048036036100f39190810190610817565b610371565b6040516101059190610a37565b60405180910390f35b34801561011a57600080fd5b5061013560048036036101309190810190610817565b61042c565b6040516101429190610ab9565b60405180910390f35b34801561015757600080fd5b5061016061044f565b60405161016d91906109f3565b60405180910390f35b34801561018257600080fd5b5061019d600480360361019891908101906107d6565b610538565b005b806000111580156101b4575060018054905081105b15156101f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ec90610a79565b60405180910390fd5b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151515610284576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161027b90610a59565b60405180910390fd5b600160008281548110151561029557fe5b9060005260206000200154016000828154811015156102b057fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6060600080548060200260200160405190810160405280929190818152602001828054801561036757602002820191906000526020600020905b815481526020019060010190808311610353575b5050505050905090565b60018181548110151561038057fe5b906000526020600020016000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104245780601f106103f957610100808354040283529160200191610424565b820191906000526020600020905b81548152906001019060200180831161040757829003601f168201915b505050505081565b60008181548110151561043b57fe5b906000526020600020016000915090505481565b60606001805480602002602001604051908101604052809291908181526020016000905b8282101561052f578382906000526020600020018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561051b5780601f106104f05761010080835404028352916020019161051b565b820191906000526020600020905b8154815290600101906020018083116104fe57829003601f168201915b505050505081526020019060010190610473565b50505050905090565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515156105c7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105be90610a59565b60405180910390fd5b6105cf610750565b6003826040518082805190602001908083835b60208310151561060757805182526020820191506020810190506020830392506105e2565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020604080519081016040529081600082015481526020016001820160009054906101000a900460ff1615151515815250509050806020015115156106b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106a990610a99565b60405180910390fd5b6001600082600001518154811015156106c757fe5b906000526020600020015401600082600001518154811015156106e657fe5b90600052602060002001819055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6040805190810160405280600081526020016000151581525090565b600082601f830112151561077f57600080fd5b813561079261078d82610b01565b610ad4565b915080825260208301602083018583830111156107ae57600080fd5b6107b9838284610b96565b50505092915050565b60006107ce8235610b8c565b905092915050565b6000602082840312156107e857600080fd5b600082013567ffffffffffffffff81111561080257600080fd5b61080e8482850161076c565b91505092915050565b60006020828403121561082957600080fd5b6000610837848285016107c2565b91505092915050565b600061084b82610b47565b8084526020840193508360208202850161086485610b2d565b60005b8481101561089d57838303885261087f838351610909565b925061088a82610b68565b9150602088019750600181019050610867565b508196508694505050505092915050565b60006108b982610b52565b8084526020840193506108cb83610b3a565b60005b828110156108fd576108e18683516109e4565b6108ea82610b75565b91506020860195506001810190506108ce565b50849250505092915050565b600061091482610b5d565b808452610928816020860160208601610ba5565b61093181610bd8565b602085010191505092915050565b6000601982527f4163636f756e742068617320616c726561647920566f746564000000000000006020830152604082019050919050565b6000601a82527f506c656173652073656c6563742076616c6964206f7074696f6e0000000000006020830152604082019050919050565b6000601682527f4f7074696f6e20646f6573206e6f7420657869737473000000000000000000006020830152604082019050919050565b6109ed81610b82565b82525050565b60006020820190508181036000830152610a0d8184610840565b905092915050565b60006020820190508181036000830152610a2f81846108ae565b905092915050565b60006020820190508181036000830152610a518184610909565b905092915050565b60006020820190508181036000830152610a728161093f565b9050919050565b60006020820190508181036000830152610a9281610976565b9050919050565b60006020820190508181036000830152610ab2816109ad565b9050919050565b6000602082019050610ace60008301846109e4565b92915050565b6000604051905081810181811067ffffffffffffffff82111715610af757600080fd5b8060405250919050565b600067ffffffffffffffff821115610b1857600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000819050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015610bc3578082015181840152602081019050610ba8565b83811115610bd2576000848401525b50505050565b6000601f19601f830116905091905056fea265627a7a72305820f660cee978fc96280e74505b268e21c7c7643f9d17de17f3e8e6e19e5a126f2a6c6578706572696d656e74616cf50037";
        #endregion
        protected async void Page_Load(object sender, EventArgs e)
        {
            if (!Page.IsPostBack)
            {


            //    var VoteDeploymentBase1 = new VoteDeployment()
            //    {
            //         Options= new List<string>() { "ad"},
            //    };

            //    var web3 = new Nethereum.Web3.Web3(new Account("0xc9f253cd0c04db9ed50ff10aa7f44c03f4b5cf4ef1797a09ec152870245c8454"), strURL);
            //    var unlockAccountResult = await web3.Personal.UnlockAccount.SendRequestAsync(address, "prize afraid blossom fossil river cereal oak voyage argue victory connect arrive", 1200).ConfigureAwait(false);

            //    var a = await VoteService.DeployContractAndWaitForReceiptAsync(web3, VoteDeploymentBase1, null); 

            //    //var a = await VoteService.DeployContractAndWaitForReceiptAsync(web3, VoteDeploymentBase1);
            //    var deploymentHandler = web3.Eth.GetContractDeploymentHandler<VoteDeployment>();
            //    var deploymentReceipt = await deploymentHandler.SendRequestAndWaitForReceiptAsync(VoteDeploymentBase1);

            //    // var web3 = new Nethereum.Web3.Web3(new Account("0xc9f253cd0c04db9ed50ff10aa7f44c03f4b5cf4ef1797a09ec152870245c8454"), strURL);
            //   // var unlockAccountResult = await web3.Personal.UnlockAccount.SendRequestAsync(address, "prize afraid blossom fossil river cereal oak voyage argue victory connect arrive", 1200).ConfigureAwait(false);
            //    var funds = await web3.Eth.GetBalance.SendRequestAsync(address).ConfigureAwait(false);
            //    // Log($"Account {senderAddress} has {UnitConversion.Convert.FromWei(funds.Value)} eth");

            //    var gasPrice = await web3.Eth.GasPrice.SendRequestAsync().ConfigureAwait(false);
            //    //Log($"Gas price is {gasPrice.Value} wei");
            //    var voteOptins = new string[] { "A", "B" };
              
            //    //var gasDeploy = await web3.Eth.DeployContract.EstimateGasAsync(ABI,bytecode, address,new string[][] { voteOptins}).ConfigureAwait(false);

            //    //  Log($"Deploying contract with multiplier {multiplier} using {gasDeploy.Value} gas");
            //    //  var receipt = await web3.Eth.DeployContract.SendRequestAndWaitForReceiptAsync( bytecode, address, gasDeploy, new object[] { voteOptins }).ConfigureAwait(false);

            //    var receipt = await web3.Eth.DeployContract.SendRequestAndWaitForReceiptAsync(ABI,bytecode, address, new HexBigInteger(900000), null, null, new object[] { new string[] { "adsf", "asdf", "asdfa" }  }).ConfigureAwait(false);


            //   // web3.Eth.DeployContract.SendRequestAndWaitForReceiptAsync( TConstructorParams)

            //    var amt = await web3.Eth.GetCode.SendRequestAsync(receipt.ContractAddress).ConfigureAwait(false);

            //// Log($"-> Done at block {receipt.BlockNumber.Value} using {receipt.CumulativeGasUsed.Value} gas");
            ////  Log($"-> Contract address is {receipt.ContractAddress}");
            ////

            //    //// Web3 web3 = new Web3(strURL);

            //    //var web3 = new Nethereum.Web3.Web3(strURL);
            //    //Contract voteContract = web3.Eth.GetContract(ABI, address);
            //    ////voteContract.GetFunction("");

            //    //// Task<BigInteger> candidate1Function = voteContract.GetFunction("candidate1").CallAsync<BigInteger>();
            //    ////candidate1Function.Wait();
            //    ////Task<string> candidate1Function = voteContract.GetFunction("getOptions").CallAsync<string>();
            //    ////candidate1Function.Wait();

            //    //var contract = web3.Eth.GetContract(ABI, address);
            //    //var fucntion = contract.GetFunction("getOptions");
            //    //var result = await fucntion.CallAsync<List<string>>();

            }
        }

        protected async void Button1_Click(object sender, EventArgs e)
        {

            //var web3 = new Nethereum.Web3.Web3(strURL);
            //Contract voteContract = web3.Eth.GetContract(ABI, address);
            //var contract = web3.Eth.GetContract(ABI, address);
            //var fucntion = contract.GetFunction("getOptions");
            //var result = await fucntion.CallAsync<List<string>>();

            
            //rblVoteOptions.DataSource = result;
            //rblVoteOptions.DataBind();
        }

        protected async  void btnCast_Click(object sender, EventArgs e)
        {
            string pkey = string.Empty;
            switch(ddlUser.SelectedItem.Value)
            {
                case "0x71d54D727F333e73Dc15F0abaF4C738C7f2b7C89":
                    pkey = "0xc9f253cd0c04db9ed50ff10aa7f44c03f4b5cf4ef1797a09ec152870245c8454";
                    break;

                case "0xEe5468Aefb6ce3C6b9f207b675B9e0a69Ce3D285":
                    pkey = "0xa938035abec3f3663f929866bb9e73a4931d2df1224611ee738ca1eee4206363";
                    break;
                case "0xAa7d85bc5f5cA97F70Dd26D5AFB37ad52Bbb9FD2":
                    pkey = "0x086c1e39a60e474cc7ec83180d5d06be3c715157a32ffd4fe48432025e8d0698";
                    break;
                case "0xd3A853492D93d476f1C8f22939De47B761B0bFa6":
                    pkey = "0xd2b8613ede4c3e60bd3d66322990391ad99db54ce14b0f1e00908a782e7fae92";
                    break;
                case "0x186aADa08e645d20860D902158BD789c4f8f2548":
                    pkey = "0xee9670eae3cbc5ce430e24dc5cb0a3a5f3f3c0482b7aa85cf4a64711012173f8";
                    break;
                case "0xDc25245A65cCE2aA04b2c3D35078370096045B50":
                    pkey = "0x93c726a37c6ea0294401559ea3290ed8ff3e57a2b92f84a95eaaba9f6c0dc6d0";
                    break;
                case "0x6C192DDFE459e02ED43bf289D301AB227EA82DbF":
                    pkey = "0x4d430210094adadd3f7ddc3496054f7a634aab91326796d9048e4df8c1ec7902";
                    break;
                case "0x8BE3477B937984cc58E1122db926e9f13159f237":
                    pkey = "0xffa8b176898f88cebd8226db713de31f8c1d95d588fb1ab1d5f744bb9f700b6f";
                    break;
                case "0xF7C3Aa8c062E7a536d8Cb94Aa7FA511319617361":
                    pkey = "0x031be7f3a1eebb9f69e8dd02460ec1aa11b49afab0ab1166dfe437b0546ebbac";
                    break;
                case "0x42b7976Db1920f21ce495bFFf5114ff687B6d24F":
                    pkey = "0x1a2f7758fb5419b6479ce92e276459b9736789fd7f1a5e362352ffcc7dd4d8ec";
                    break;
            }
            


            var web3 = new Nethereum.Web3.Web3(new Account(pkey), strURL);
         //   var web3 = new Nethereum.Web3.Web3(new Account("0xd2b8613ede4c3e60bd3d66322990391ad99db54ce14b0f1e00908a782e7fae92"), strURL);
            string address = ddlVotesAvailable.SelectedItem.Value;
           // Contract voteContract = web3.Eth.GetContract(ABI, address);
            var contract = web3.Eth.GetContract(ABI, address);
            var fucntion = contract.GetFunction("vote");
            int selectedOptionValue = rblVoteOptions.Items.IndexOf(rblVoteOptions.Items.FindByText(rblVoteOptions.SelectedItem.Value));
            try
            {
                var gas7 = await fucntion.EstimateGasAsync(ddlUser.SelectedItem.Value, null, null, selectedOptionValue).ConfigureAwait(false); ;
                var receipt7 = await fucntion.SendTransactionAndWaitForReceiptAsync(ddlUser.SelectedItem.Value, gas7, new HexBigInteger(0), null, selectedOptionValue).ConfigureAwait(false);
                DisplayInInfo($"BlockNumber - <b>{Convert.ToString( receipt7.BlockHash)}</b>,GasUsed - <b>{ Convert.ToString( receipt7.GasUsed.Value)}</b>", false);

            }
            catch (Exception ex)
            {
                DisplayInInfo($"{ddlUser.SelectedItem.Text} <strong>{ex.Message}</strong>", true);
            }
           
            //var result =  fucntion.SendTransactionAndWaitForReceiptAsync(new Nethereum.RPC.Eth.DTOs.TransactionInput(){ Data // .CallAsync<string>();
        }

        protected void ddlUser_SelectedIndexChanged(object sender, EventArgs e)
        {
            string strMsg;
            bool isError = false;
            if (ddlUser.SelectedItem.Value != "0")
            {
                strMsg = $" User <strong>{ddlUser.SelectedItem.Text} - {ddlUser.SelectedItem.Value}</strong> will cast Vote.";
                isError = false;
            }
            else
            {
                strMsg = "Please select Proper user to cast vote";
                isError = true;
            }

            DisplayInInfo(strMsg,isError);
        }

        private void DisplayInInfo(string strMSG,bool isError)
        {
            if (isError)
            {
                divError.Visible = true;
                btnCleanError.Visible = true;
                divError.InnerHtml = $"{strMSG}<br>" + divError.InnerHtml;
            }
            else
            {
                divInfor.Visible = true;
                btnCleanInfo.Visible = true;
                divInfor.InnerHtml = $"{strMSG}<br>"+divInfor.InnerHtml;
            }
        }

        protected void ddlVotesAvailable_SelectedIndexChanged(object sender, EventArgs e)
        {
            string selectedVote;
            bool isError;
            btnCast.Visible = false;
            rblVoteOptions.Items.Clear();
            btnViewResult.Visible = false;
            divResult.Visible = false;
            if (ddlVotesAvailable.SelectedItem.Value == "1")
            {
                selectedVote = $"Sorry The vote duration is over, you cant select {ddlVotesAvailable.SelectedItem.Text} now";
                isError = true;
            }
            else if (ddlVotesAvailable.SelectedItem.Value == "0")
            {
                selectedVote = "Please select proper vote";
                isError = true;
            }
            else {
                selectedVote = $"<strong>{ddlVotesAvailable.SelectedItem.Text} - {ddlVotesAvailable.SelectedItem.Value}</strong> is selected";
                isError = false;
                BindvoteOptions(ddlVotesAvailable.SelectedItem.Value);
            }
            DisplayInInfo(selectedVote, isError);

        }

        private async void BindvoteOptions(string value)
        {
            btnViewResult.Visible = true;
            List<string>lstOptions = new List<string>() { };



            if(value== "0x34E7Cff39Edd8Fd069ee65b8470719BE1Dd799B9")
            {
                lstOptions = new List<string>() { "Tea", "Coffee", "Milk" };
            }
            else if (value=="")
            {
                lstOptions = new List<string>() { "Modi", "Rahul", "Other" };
            }
            else if(value== "0x94A662D0de2d8B9723DBDED2d57C41be63ea6db2")
            {
                lstOptions = new List<string>() { "Amitabh", "Jackey", "Sunil" };
            }
            else
            {
                var web3 = new Nethereum.Web3.Web3(new Account("0xc9f253cd0c04db9ed50ff10aa7f44c03f4b5cf4ef1797a09ec152870245c8454"), strURL);
                //var web3 = new Nethereum.Web3.Web3(strURL);
                // Contract voteContract = web3.Eth.GetContract(ABI, address);
                var contract = web3.Eth.GetContract(ABI, value);
                var fucntion = contract.GetFunction("getOptions");
                var result = await fucntion.CallAsync<List<string>>();


                //var contract1 = web3.Eth.GetContract(ABI, "0x1e687609D7dA49FCf6475F1F29f0e6a549fBdF49");
                //var fucntion1 = contract1.GetFunction("getOptions");
                //var result1 = await fucntion1.CallAsync<List<string>>();

                rblVoteOptions.DataSource = result;
                rblVoteOptions.DataBind();
            }

            if (lstOptions.Count > 0)
            {
                rblVoteOptions.DataSource = lstOptions;
                rblVoteOptions.DataBind();
            }
                btnCast.Visible = true;
        }

        protected void btnCleanInfo_Click(object sender, EventArgs e)
        {
            divInfor.InnerHtml = "";
            btnCleanInfo.Visible = false;
        }

        protected void btnCleanError_Click(object sender, EventArgs e)
        {
            divError.InnerHtml = "";
            btnCleanError.Visible = false;
        }

        protected async void btnViewResult_Click(object sender, EventArgs e)
        {
            divResult.InnerHtml = "";
            Random rnd = new Random();
            divResult.Visible = true;
            var web3 = new Nethereum.Web3.Web3(new Account("0xc9f253cd0c04db9ed50ff10aa7f44c03f4b5cf4ef1797a09ec152870245c8454"), strURL);
            //var web3 = new Nethereum.Web3.Web3(strURL);
            // Contract voteContract = web3.Eth.GetContract(ABI, address);
            var contract = web3.Eth.GetContract(ABI, ddlVotesAvailable.SelectedItem.Value);
            var fucntion = contract.GetFunction("getVotes");
            var result = await fucntion.CallAsync<List<UInt16>>();
            List<Data> mylist = new List<Data>();
            for (int i=0;i<=rblVoteOptions.Items.Count-1;i++)
            {
                mylist.Add(new Data(result[i],rblVoteOptions.Items[i].Text));
                divResult.InnerHtml += $"{rblVoteOptions.Items[i].Text} - {result[i]}<br>";
            }


             Chart1.DataSource = mylist;
            Chart1.BackColor = Color.Transparent;
            Chart1.Width = Unit.Pixel(450);
            Chart1.Height = Unit.Pixel(400);
            System.Web.UI.DataVisualization.Charting.Series sr1 = Chart1.Series[0];
            sr1.XValueMember = "StringData";
            sr1.YValueMembers = "IntegerData";
            sr1.Font = new Font("Verdana", 8.25f, FontStyle.Regular);
          //  ChartArea ca1 = new ChartArea("ChartArea1");
            Chart1.ChartAreas["ChartArea1"].AxisX.MajorGrid.Enabled = false;
            Chart1.ChartAreas["ChartArea1"].AxisY.MajorGrid.Enabled = false;
            Chart1.ChartAreas["ChartArea1"].BackColor = Color.Transparent;
           // Chart1.ChartAreas.Add(ca1);


        }

        protected void btnCast_Click1(object sender, EventArgs e)
        {

        }
    }
    public struct Data
    {
        public Data(int intValue, string strValue)
        {
            IntegerData = intValue;
            StringData = strValue;
        }

        public int IntegerData { get; private set; }
        public string StringData { get; private set; }
    }
}